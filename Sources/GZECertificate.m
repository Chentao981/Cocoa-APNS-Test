//	--------------------------------------------------------------------------------------------------------------------
//
//  GZECertificate.m
//  APNSTest
//
//  Created by Gerd Van Zegbroeck on 16/11/10.
//  Copyright 2010 Managing Software. All rights reserved.
//
//	--------------------------------------------------------------------------------------------------------------------

#import "GZECertificate.h"


//	--------------------------------------------------------------------------------------------------------------------
//	class GZECertificate
//	--------------------------------------------------------------------------------------------------------------------

@implementation GZECertificate

//	--------------------------------------------------------------------------------------------------------------------
//	property synthesizers
//	--------------------------------------------------------------------------------------------------------------------

@synthesize name;

@synthesize identity;

//	--------------------------------------------------------------------------------------------------------------------
//	method certificateWithName
//	--------------------------------------------------------------------------------------------------------------------

+ (id)certificateWithName:(NSString *)aName withIdentity:(SecIdentityRef)aIdentity
{
	return [[[self alloc] initCertificateWithName:aName withIdentity:aIdentity] autorelease];
}

//	--------------------------------------------------------------------------------------------------------------------
//	method initCertificateWithName
//	--------------------------------------------------------------------------------------------------------------------

- (id)initCertificateWithName:(NSString *)aName withIdentity:(SecIdentityRef)aIdentity
{
	if (self = [super init])
	{
		name = [aName copy];
		
		identity = aIdentity;
		
		CFRetain(identity);
	}
	
	return self;
}

//	--------------------------------------------------------------------------------------------------------------------
//	method dealloc
//	--------------------------------------------------------------------------------------------------------------------

- (void)dealloc
{
	[name release]; name = nil;
	
	CFRelease(identity); identity = nil;
	
	[super dealloc];
}

//	--------------------------------------------------------------------------------------------------------------------
//	method description
//	--------------------------------------------------------------------------------------------------------------------

- (NSString *)description
{
	return name;
}

//	--------------------------------------------------------------------------------------------------------------------
//	done
//	--------------------------------------------------------------------------------------------------------------------

@end

//	--------------------------------------------------------------------------------------------------------------------